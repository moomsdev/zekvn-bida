{"version":3,"file":"block-editor.js","mappings":"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","sources":["webpack://popup-maker/core/./node_modules/clsx/dist/clsx.mjs?","webpack://popup-maker/core/./packages/block-editor/src/block-extensions/index.tsx?","webpack://popup-maker/core/./packages/block-editor/src/block-extensions/popup-trigger/editor.scss?43e8","webpack://popup-maker/core/./packages/block-editor/src/block-extensions/popup-trigger/index.tsx?","webpack://popup-maker/core/./packages/block-editor/src/formats/index.tsx?","webpack://popup-maker/core/./packages/block-editor/src/formats/popup-trigger/index.tsx?","webpack://popup-maker/core/./packages/block-editor/src/formats/popup-trigger/inline.tsx?","webpack://popup-maker/core/./packages/block-editor/src/formats/popup-trigger/trigger-popover/editor.scss?226a","webpack://popup-maker/core/./packages/block-editor/src/formats/popup-trigger/trigger-popover/index.tsx?","webpack://popup-maker/core/./packages/block-editor/src/formats/popup-trigger/trigger-popover/popup-trigger-editor.tsx?","webpack://popup-maker/core/./packages/block-editor/src/formats/popup-trigger/trigger-popover/popup-trigger-viewer.tsx?","webpack://popup-maker/core/./packages/block-editor/src/formats/popup-trigger/utils.ts?","webpack://popup-maker/core/external window [\"popupMaker\",\"components\"]?","webpack://popup-maker/core/external window [\"popupMaker\",\"coreData\"]?","webpack://popup-maker/core/external window [\"popupMaker\",\"i18n\"]?","webpack://popup-maker/core/external window [\"popupMaker\",\"icons\"]?","webpack://popup-maker/core/external window [\"wp\",\"a11y\"]?","webpack://popup-maker/core/external window [\"wp\",\"blockEditor\"]?","webpack://popup-maker/core/external window [\"wp\",\"components\"]?","webpack://popup-maker/core/external window [\"wp\",\"compose\"]?","webpack://popup-maker/core/external window [\"wp\",\"data\"]?","webpack://popup-maker/core/external window [\"wp\",\"element\"]?","webpack://popup-maker/core/external window [\"wp\",\"hooks\"]?","webpack://popup-maker/core/external window [\"wp\",\"htmlEntities\"]?","webpack://popup-maker/core/external window [\"wp\",\"keycodes\"]?","webpack://popup-maker/core/external window [\"wp\",\"richText\"]?","webpack://popup-maker/core/external window \"ReactJSXRuntime\"?","webpack://popup-maker/core/webpack/bootstrap?","webpack://popup-maker/core/webpack/runtime/compat get default export?","webpack://popup-maker/core/webpack/runtime/define property getters?","webpack://popup-maker/core/webpack/runtime/hasOwnProperty shorthand?","webpack://popup-maker/core/webpack/runtime/make namespace object?","webpack://popup-maker/core/./packages/block-editor/src/index.ts?"],"sourcesContent":["function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import './popup-trigger';\n","// extracted by mini-css-extract-plugin\nexport {};","import './editor.scss';\n\nimport clsx from 'clsx';\n\nimport { __ } from '@popup-maker/i18n';\nimport { addFilter } from '@wordpress/hooks';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport {\n\tIcon,\n\tPanel,\n\tPanelBody,\n\tPanelRow,\n\tTooltip,\n} from '@wordpress/components';\nimport { createHigherOrderComponent } from '@wordpress/compose';\n\nimport { PopupSelectControl } from '@popup-maker/components';\n\nimport { Mark as MarkIcon } from '@popup-maker/icons';\n// import GearIcon from '../../../../../src/block-editor/icons/gears';\n\nconst { popupTriggerExcludedBlocks } = window.popupMakerBlockEditor;\n\n/**\n * Either allowedBlocks or excludedBlocks should be used, not both.\n *\n * @type {Array}\n */\nconst allowedBlocks: string[] = [];\nconst excludedBlocks: string[] = popupTriggerExcludedBlocks || [\n\t'core/nextpage',\n\t'popup-maker/call-to-action',\n\t'popup-maker/call-to-actions',\n];\n\nfunction isAllowedForBlockType( name: string ) {\n\tif ( ! allowedBlocks.length && ! excludedBlocks.length ) {\n\t\treturn true;\n\t}\n\n\tif ( allowedBlocks.length ) {\n\t\treturn allowedBlocks.includes( name );\n\t}\n\n\tif ( excludedBlocks.length ) {\n\t\treturn ! excludedBlocks.includes( name );\n\t}\n\n\treturn true;\n}\n\n/**\n * Add custom attribute for mobile visibility.\n *\n * @param {Object} settings            Settings for the block.\n *\n * @param {Object} settings.attributes Attributes for the block.\n * @param {string} settings.name       Name of the block.\n *\n * @return {Object} settings Modified settings.\n */\nfunction addAttributes( settings: { attributes: any; name: string } ): {\n\tattributes: any;\n\tname: string;\n} {\n\t//check if object exists for old Gutenberg version compatibility\n\t//add allowedBlocks restriction\n\tif (\n\t\ttypeof settings.attributes !== 'undefined' &&\n\t\tisAllowedForBlockType( settings.name )\n\t) {\n\t\tsettings.attributes = Object.assign( settings.attributes, {\n\t\t\topenPopupId: {\n\t\t\t\ttype: 'string',\n\t\t\t\tdefault: '',\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn settings;\n}\n\n/**\n * Add mobile visibility controls on Advanced Block Panel.\n *\n * @param {Function} BlockEdit Block edit component.\n *\n * @return {Function} BlockEdit Modified block edit component.\n */\nconst withAdvancedControls = createHigherOrderComponent( ( BlockEdit ) => {\n\treturn ( props ) => {\n\t\tconst { name, attributes, setAttributes, isSelected } = props;\n\t\tconst { openPopupId } = attributes;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ isSelected && isAllowedForBlockType( name ) && (\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<Panel className=\"pum-block-inspector-popup-controls\">\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle={ __( 'Popup Controls', 'popup-maker' ) }\n\t\t\t\t\t\t\t\t// icon={ GearIcon }\n\t\t\t\t\t\t\t\ticon={ MarkIcon }\n\t\t\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t'These settings allow you to control popups with this block.',\n\t\t\t\t\t\t\t\t\t\t'popup-maker'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t\t\t<PopupSelectControl\n\t\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Open Popup',\n\t\t\t\t\t\t\t\t\t\t\t\t\t'popup-maker'\n\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'This method does not work well with all block types.',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'popup-maker'\n\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://wppopupmaker.com/docs/triggering-popups/trigger-click-open-overview-methods/\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={ 16 }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"editor-help\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={ __(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Open documentation',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'popup-maker'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tverticalAlign:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'middle',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue={ openPopupId }\n\t\t\t\t\t\t\t\t\t\tonChange={ ( popupId ) =>\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\t\topenPopupId: popupId,\n\t\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t\t\t'Open a popup when clicking this block',\n\t\t\t\t\t\t\t\t\t\t\t'popup-maker'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t};\n}, 'withAdvancedControls' );\n\n/**\n * Add custom element class in save element.\n *\n * @param {Object} extraProps Block element.\n * @param {Object} blockType  Blocks object.\n * @param {Object} attributes Blocks attributes.\n *\n * @return {Object} extraProps Modified block element.\n */\nfunction applyTriggerClass( extraProps, blockType, attributes ) {\n\tconst { openPopupId } = attributes;\n\n\t//check if attribute exists for old Gutenberg version compatibility\n\t//add class only when visibleOnMobile = false\n\t//add allowedBlocks restriction\n\tif (\n\t\ttypeof openPopupId !== 'undefined' &&\n\t\topenPopupId > 0 &&\n\t\tisAllowedForBlockType( blockType.name )\n\t) {\n\t\textraProps.className = clsx(\n\t\t\textraProps.className,\n\t\t\t'popmake-' + openPopupId\n\t\t);\n\t}\n\n\treturn extraProps;\n}\n\n//add filters\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'popup-maker/popup-trigger-attributes',\n\taddAttributes\n);\n\naddFilter(\n\t'editor.BlockEdit',\n\t'popup-maker/popup-trigger-advanced-control',\n\twithAdvancedControls\n);\n\naddFilter(\n\t'blocks.getSaveContent.extraProps',\n\t'popup-maker/applyTriggerClass',\n\tapplyTriggerClass\n);\n","/**\n * WordPress dependencies\n */\nimport { registerFormatType } from '@wordpress/rich-text';\n/**\n * Internal dependencies\n */\nimport * as trigger from './popup-trigger';\n\n[ trigger ].forEach( ( { name, settings } ) =>\n\tregisterFormatType( name, settings )\n);\n","import { __ } from '@popup-maker/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { withSpokenMessages } from '@wordpress/components';\nimport { removeFormat, isCollapsed } from '@wordpress/rich-text';\nimport { useState, useLayoutEffect, useEffect } from '@wordpress/element';\nimport {\n\tRichTextShortcut,\n\tRichTextToolbarButton,\n} from '@wordpress/block-editor';\n\nimport { Mark as MarkIcon, MarkWhite } from '@popup-maker/icons';\n\nimport InlinePopupTriggerUI from './inline';\n\nimport type { RichTextValue } from '@wordpress/rich-text';\nimport type { TriggerFormatAttributes } from './types';\nimport { WPFormat as WPFormatBase } from '@wordpress/rich-text/build-types/register-format-type';\n\ninterface WPFormat extends WPFormatBase {\n\tattributes: {\n\t\t[ key: string ]: string;\n\t};\n}\n\ntype Props = {\n\tisActive: boolean;\n\tactiveAttributes: TriggerFormatAttributes;\n\tvalue: RichTextValue;\n\tonChange: ( value: RichTextValue ) => void;\n\tonFocus: () => void;\n\tcontentRef: { current: HTMLElement | null };\n};\n\nconst title = __( 'Popup Trigger', 'popup-maker' );\nexport const name = `popup-maker/popup-trigger`;\n\nexport const TriggerEdit = withSpokenMessages(\n\t( {\n\t\tisActive,\n\t\tactiveAttributes,\n\t\tvalue,\n\t\tonChange,\n\t\tonFocus,\n\t\tcontentRef,\n\t}: Props ) => {\n\t\tconst [ addingTrigger, setAddingTrigger ] =\n\t\t\tuseState< boolean >( false );\n\n\t\tconst [ openedBy, setOpenedBy ] = useState< {\n\t\t\tel: HTMLElement | null;\n\t\t\taction: string | null;\n\t\t} | null >( null );\n\n\t\tuseEffect( () => {\n\t\t\t// When the trigger becomes inactive (i.e. isActive is false), reset the editingTrigger state\n\t\t\t// and the creatingTrigger state. This means that if the Trigger UI is displayed and the trigger\n\t\t\t// becomes inactive (e.g. used arrow keys to move cursor outside of trigger bounds), the UI will close.\n\t\t\tif ( ! isActive ) {\n\t\t\t\tsetAddingTrigger( false );\n\t\t\t}\n\t\t}, [ isActive ] );\n\n\t\tuseLayoutEffect( () => {\n\t\t\tconst editableContentElement = contentRef?.current;\n\t\t\tif ( ! editableContentElement ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction handleClick( event: MouseEvent ) {\n\t\t\t\t// There is a situation whereby there is an existing trigger in the rich text\n\t\t\t\t// and the user clicks on the leftmost edge of that trigger and fails to activate\n\t\t\t\t// the trigger format, but the click event still fires on the `<span>` element.\n\t\t\t\t// This causes the `editingTrigger` state to be set to `true` and the trigger UI\n\t\t\t\t// to be rendered in \"creating\" mode. We need to check isActive to see if\n\t\t\t\t// we have an active trigger format.\n\t\t\t\tconst target = event.target as HTMLElement; // Assert that target is an HTMLElement\n\t\t\t\tconst trigger = target?.closest(\n\t\t\t\t\t'[contenteditable] span.popup-trigger'\n\t\t\t\t) as HTMLElement;\n\n\t\t\t\tif (\n\t\t\t\t\t! trigger || // other formats (e.g. bold) may be nested within the link.\n\t\t\t\t\t! isActive\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetAddingTrigger( true );\n\t\t\t\tsetOpenedBy( {\n\t\t\t\t\tel: trigger,\n\t\t\t\t\taction: 'click',\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\teditableContentElement.addEventListener( 'click', handleClick );\n\n\t\t\treturn () => {\n\t\t\t\teditableContentElement.removeEventListener(\n\t\t\t\t\t'click',\n\t\t\t\t\thandleClick\n\t\t\t\t);\n\t\t\t};\n\t\t}, [ contentRef, isActive ] );\n\n\t\tconst addTrigger = () => {\n\t\t\t// const text = getTextContent( slice( value ) );\n\n\t\t\t// onChange(\n\t\t\t// \tapplyFormat( value, {\n\t\t\t// \t\ttype: name,\n\t\t\t// \t\tattributes: { popupId: 0, doDefault: false },\n\t\t\t// \t} )\n\t\t\t// );\n\t\t\tsetAddingTrigger( true );\n\t\t};\n\n\t\t/**\n\t\t * Runs when the popover is closed via escape keypress, unlinking the selected text,\n\t\t * but _not_ on a click outside the popover. onFocusOutside handles that.\n\t\t */\n\t\tconst stopAddingTrigger = () => {\n\t\t\t// Don't let the click handler on the toolbar button trigger again.\n\n\t\t\t// There are two places for us to return focus to on Escape keypress:\n\t\t\t// 1. The rich text field.\n\t\t\t// 2. The toolbar button.\n\n\t\t\t// The toolbar button is the only one we need to handle returning focus to.\n\t\t\t// Otherwise, we rely on the passed in onFocus to return focus to the rich text field.\n\n\t\t\t// Close the popover\n\t\t\tsetAddingTrigger( false );\n\n\t\t\t// Return focus to the toolbar button or the rich text field\n\t\t\tif ( openedBy?.el ) {\n\t\t\t\topenedBy.el.focus();\n\t\t\t} else {\n\t\t\t\tonFocus();\n\t\t\t}\n\t\t\t// Remove the openedBy state\n\t\t\tsetOpenedBy( null );\n\t\t};\n\n\t\t// Test for this:\n\t\t// 1. Click on the link button\n\t\t// 2. Click the Options button in the top right of header\n\t\t// 3. Focus should be in the dropdown of the Options button\n\t\t// 4. Press Escape\n\t\t// 5. Focus should be on the Options button\n\t\tconst onFocusOutside = () => {\n\t\t\tsetAddingTrigger( false );\n\t\t\tsetOpenedBy( null );\n\t\t};\n\n\t\tconst onRemoveFormat = () => {\n\t\t\tonChange( removeFormat( value, name ) );\n\t\t\tspeak( __( 'Trigger removed.', 'popup-maker' ), 'assertive' );\n\t\t};\n\n\t\t// Only autofocus if we have clicked a link within the editor\n\t\tconst shouldAutoFocus = ! (\n\t\t\topenedBy?.el?.tagName === 'SPAN' && openedBy?.action === 'click'\n\t\t);\n\n\t\tconst hasSelection = ! isCollapsed( value );\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ hasSelection && (\n\t\t\t\t\t<RichTextShortcut\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tcharacter=\"p\"\n\t\t\t\t\t\tonUse={ addTrigger as () => void }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<RichTextShortcut\n\t\t\t\t\ttype=\"primaryShift\"\n\t\t\t\t\tcharacter=\"p\"\n\t\t\t\t\tonUse={ onRemoveFormat }\n\t\t\t\t/>\n\n\t\t\t\t{ isActive ? (\n\t\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\t\ticon={ MarkWhite }\n\t\t\t\t\t\ticonSize={ 16 }\n\t\t\t\t\t\ttitle={ __( 'Remove Trigger', 'popup-maker' ) }\n\t\t\t\t\t\tonClick={ onRemoveFormat }\n\t\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\t\tshortcutType=\"primaryShift\"\n\t\t\t\t\t\tshortcutCharacter=\"p\"\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\taria-expanded={ addingTrigger }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\t\ticon={ MarkIcon }\n\t\t\t\t\t\ticonSize={ 16 }\n\t\t\t\t\t\ttitle={ title }\n\t\t\t\t\t\tonClick={ addTrigger }\n\t\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\t\tshortcutType=\"primary\"\n\t\t\t\t\t\tshortcutCharacter=\"p\"\n\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\taria-expanded={ addingTrigger }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ addingTrigger && (\n\t\t\t\t\t<InlinePopupTriggerUI\n\t\t\t\t\t\tstopAddingTrigger={ stopAddingTrigger }\n\t\t\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t\t\t\tisActive={ isActive }\n\t\t\t\t\t\tactiveAttributes={ activeAttributes }\n\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\tcontentRef={ contentRef }\n\t\t\t\t\t\tfocusOnMount={\n\t\t\t\t\t\t\tshouldAutoFocus ? 'firstElement' : false\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n);\n\nexport const settings: WPFormat = {\n\tname,\n\ttitle,\n\ttagName: 'span',\n\tclassName: 'popup-trigger',\n\tobject: false,\n\tattributes: {\n\t\tpopupId: 'data-popup-id',\n\t\tdoDefault: 'data-do-default',\n\t},\n\tinteractive: false,\n\tedit: TriggerEdit,\n};\n","import { name, settings } from './index';\n\nimport { __ } from '@popup-maker/i18n';\nimport { speak } from '@wordpress/a11y';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tuseMemo,\n\tuseState,\n\tuseCallback,\n\tuseRef,\n\tuseEffect,\n} from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { Button, Popover, ToggleControl } from '@wordpress/components';\nimport { BACKSPACE, DOWN, ENTER, LEFT, RIGHT, UP } from '@wordpress/keycodes';\nimport {\n\tuseAnchor,\n\tapplyFormat,\n\tisCollapsed,\n\tremoveFormat,\n} from '@wordpress/rich-text';\n\nimport { PopupTriggerEditor, PopupTriggerViewer } from './trigger-popover';\nimport {\n\tcreateTriggerFormat,\n\tinsertFormattedText,\n\ttriggerOptionsFromFormatAttrs,\n} from './utils';\n\nimport type { RichTextValue } from '@wordpress/rich-text';\nimport type { WPFormat } from '@wordpress/rich-text/build-types/register-format-type';\nimport type { TriggerFormatAttributes, TriggerFormatOptions } from './types';\n\nconst stopKeyPropagation = ( event: React.KeyboardEvent ) =>\n\tevent.stopPropagation();\n\nconst onKeyDown = ( event: React.KeyboardEvent ) => {\n\tif (\n\t\t(\n\t\t\t[ LEFT, DOWN, RIGHT, UP, BACKSPACE, ENTER ] as unknown as number[]\n\t\t ).indexOf( parseInt( event.key ) ) > -1\n\t) {\n\t\t// Stop the key event from propagating up to ObserveTyping.startTypingInTextField.\n\t\tevent.stopPropagation();\n\t}\n};\n\ntype Props = {\n\tisActive: boolean;\n\tactiveAttributes: TriggerFormatAttributes;\n\tvalue: RichTextValue;\n\tonChange: ( value: RichTextValue ) => void;\n\tonFocusOutside: () => void;\n\tstopAddingTrigger: () => void;\n\tcontentRef: React.RefObject< HTMLElement >;\n\tfocusOnMount: boolean | 'firstElement';\n};\n\nconst InlinePopupTriggerUI = ( {\n\tisActive,\n\tactiveAttributes,\n\tvalue,\n\tonChange,\n\tonFocusOutside,\n\tstopAddingTrigger,\n\tcontentRef,\n\tfocusOnMount,\n}: Props ) => {\n\t// Get dispatch action to change the selection.\n\tconst { selectionChange } = useDispatch( blockEditorStore );\n\n\t// Get the current selection.\n\tconst { selectionStart } = useSelect( ( select ) => {\n\t\tconst { getSelectionStart } = select( blockEditorStore ) as {\n\t\t\tgetSelectionStart: () => {\n\t\t\t\tclientId: string;\n\t\t\t\tattributeKey: string;\n\t\t\t\tidentifier: string;\n\t\t\t\tstart: number;\n\t\t\t};\n\t\t};\n\n\t\treturn {\n\t\t\tselectionStart: getSelectionStart(),\n\t\t};\n\t}, [] );\n\n\tconst triggerValue: TriggerFormatOptions = useMemo(\n\t\t() => triggerOptionsFromFormatAttrs( activeAttributes ),\n\t\t[ activeAttributes ]\n\t);\n\n\tconst [ isEditingTrigger, setIsEditingTrigger ] = useState(\n\t\t! activeAttributes || ! activeAttributes.popupId\n\t);\n\n\tconst popoverAnchor = useAnchor( {\n\t\teditableContentElement: contentRef.current,\n\t\tsettings: {\n\t\t\t...settings,\n\t\t\tisActive,\n\t\t} as WPFormat,\n\t} );\n\n\tconst removeTrigger = useCallback( () => {\n\t\tconst newValue = removeFormat( value, name );\n\t\tonChange( newValue );\n\t\tstopAddingTrigger();\n\t\tspeak( __( 'Trigger removed.', 'popup-maker' ), 'assertive' );\n\t}, [ onChange, stopAddingTrigger, value ] );\n\n\tconst [ isSettingsExpanded, setIsSettingsExpanded ] =\n\t\tuseState< boolean >( false );\n\n\tconst toggleSettingsVisibility = useCallback( () => {\n\t\tsetIsSettingsExpanded( ( prevState ) => ! prevState );\n\t}, [] );\n\n\tconst onChangeTrigger = useCallback(\n\t\t( changes: Partial< TriggerFormatOptions > ) => {\n\t\t\tconst hasTrigger = triggerValue?.popupId;\n\t\t\tconst isNewTrigger = ! hasTrigger;\n\n\t\t\t// Merge the next value with the current trigger value\n\t\t\tconst nextValue: TriggerFormatOptions = {\n\t\t\t\t...triggerValue,\n\t\t\t\t...changes,\n\t\t\t};\n\n\t\t\t// Handle removing trigger if popup ID is cleared\n\t\t\tif ( ! isNewTrigger && ! nextValue?.popupId ) {\n\t\t\t\tremoveTrigger();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst triggerFormat = createTriggerFormat( nextValue );\n\t\t\tconst defaultText = __( 'Open Popup', 'popup-maker' );\n\n\t\t\tlet newValue: RichTextValue;\n\n\t\t\tif ( isCollapsed( value ) && ! isActive ) {\n\t\t\t\t// No selection - insert new trigger with default text.\n\t\t\t\tnewValue = insertFormattedText(\n\t\t\t\t\tvalue,\n\t\t\t\t\tdefaultText,\n\t\t\t\t\ttriggerFormat,\n\t\t\t\t\tvalue.start\n\t\t\t\t);\n\n\t\t\t\tonChange( newValue );\n\n\t\t\t\t// Move selection after the inserted trigger.\n\t\t\t\tselectionChange( {\n\t\t\t\t\tclientId: selectionStart.clientId,\n\t\t\t\t\tidentifier: selectionStart.attributeKey,\n\t\t\t\t\tstart: value.start + defaultText.length + 1,\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\t// Has selected text - apply format to selection\n\t\t\t\tnewValue = applyFormat( value, triggerFormat );\n\t\t\t\tonChange( newValue );\n\t\t\t}\n\n\t\t\t// Announce the change\n\t\t\tif ( isActive ) {\n\t\t\t\tspeak( __( 'Trigger edited.', 'popup-maker' ), 'assertive' );\n\t\t\t} else {\n\t\t\t\tspeak( __( 'Trigger inserted.', 'popup-maker' ), 'assertive' );\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\ttriggerValue,\n\t\t\tvalue,\n\t\t\tisActive,\n\t\t\tonChange,\n\t\t\tremoveTrigger,\n\t\t\tselectionChange,\n\t\t\tselectionStart,\n\t\t]\n\t);\n\n\tconst isEditing = isEditingTrigger || ! triggerValue.popupId;\n\tconst { popupId, doDefault } = triggerValue;\n\n\tconst previousFocus = useRef< HTMLElement | null >( null );\n\n\tuseEffect( () => {\n\t\t// Get the editable content element\n\t\tconst editableContent = contentRef.current;\n\n\t\t// If we have an active format, use the activeElement\n\t\tif (\n\t\t\tisActive &&\n\t\t\teditableContent?.ownerDocument?.activeElement !==\n\t\t\t\teditableContent?.ownerDocument?.body\n\t\t) {\n\t\t\tpreviousFocus.current = editableContent?.ownerDocument\n\t\t\t\t?.activeElement as HTMLElement;\n\t\t} else {\n\t\t\t// If no active format or body is focused, use the contentRef\n\t\t\tpreviousFocus.current = editableContent;\n\t\t}\n\n\t\tconst closeOnEscape = ( event: KeyboardEvent ) => {\n\t\t\tif ( event.key === 'Escape' ) {\n\t\t\t\tstopAddingTrigger();\n\t\t\t}\n\t\t};\n\n\t\t// Add the event listener.\n\t\tdocument.addEventListener( 'keydown', closeOnEscape );\n\t\treturn () => {\n\t\t\t// Restore focus when popover closes.\n\t\t\tif ( previousFocus.current && 'focus' in previousFocus.current ) {\n\t\t\t\tpreviousFocus.current.focus();\n\t\t\t}\n\t\t\t// Remove the event listener.\n\t\t\tdocument.removeEventListener( 'keydown', closeOnEscape );\n\t\t};\n\t}, [ contentRef, isActive, stopAddingTrigger ] );\n\n\t// Close on escape keypress\n\tuseEffect( () => {\n\t\treturn () => {};\n\t}, [] );\n\n\treturn (\n\t\t<>\n\t\t\t<Popover\n\t\t\t\tclassName=\"block-editor-popup-trigger__inline-popover  editor-popup-trigger-popover block-editor-popup-trigger-popover\"\n\t\t\t\tanchor={ popoverAnchor }\n\t\t\t\tanimate={ false }\n\t\t\t\tonClose={ () => {\n\t\t\t\t\tif ( ! isActive ) {\n\t\t\t\t\t\tstopAddingTrigger();\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t\tposition={ 'bottom center' }\n\t\t\t\toffset={ 8 }\n\t\t\t\tshift\n\t\t\t\tfocusOnMount={ focusOnMount }\n\t\t\t\tconstrainTabbing\n\t\t\t>\n\t\t\t\t<div className=\"block-editor-popup-trigger-popover__input-container\">\n\t\t\t\t\t<div className=\"editor-popup-trigger-popover__row block-editor-popup-trigger-popover__row\">\n\t\t\t\t\t\t{ isEditing ? (\n\t\t\t\t\t\t\t<PopupTriggerEditor\n\t\t\t\t\t\t\t\tclassName=\"editor-format-toolbar__trigger-container-content block-editor-format-toolbar__trigger-container-content\"\n\t\t\t\t\t\t\t\tvalue={ popupId ?? '' }\n\t\t\t\t\t\t\t\tonChangeInputValue={ ( newValue ) => {\n\t\t\t\t\t\t\t\t\tonChangeTrigger( {\n\t\t\t\t\t\t\t\t\t\tpopupId: Number( newValue ),\n\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\t\t\t\tonKeyPress={ stopKeyPropagation }\n\t\t\t\t\t\t\t\t// @ts-expect-error -- TS2322\n\t\t\t\t\t\t\t\tonSubmit={ stopAddingTrigger }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<PopupTriggerViewer\n\t\t\t\t\t\t\t\tclassName=\"editor-format-toolbar__trigger-container-content block-editor-format-toolbar__trigger-container-content\"\n\t\t\t\t\t\t\t\tonKeyPress={ stopKeyPropagation }\n\t\t\t\t\t\t\t\tpopupId={ popupId ?? 0 }\n\t\t\t\t\t\t\t\tonEditTriggerClick={ (\n\t\t\t\t\t\t\t\t\tevent:\n\t\t\t\t\t\t\t\t\t\t| React.MouseEvent\n\t\t\t\t\t\t\t\t\t\t| React.KeyboardEvent\n\t\t\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\t\t\tsetIsEditingTrigger( true );\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"editor-popup-trigger-popover__settings-toggle block-editor-popup-trigger-popover__settings-toggle\"\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\tisSettingsExpanded\n\t\t\t\t\t\t\t\t\t? 'arrow-up-alt2'\n\t\t\t\t\t\t\t\t\t: 'arrow-down-alt2'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel={ __( 'Trigger settings', 'popup-maker' ) }\n\t\t\t\t\t\t\tonClick={ toggleSettingsVisibility }\n\t\t\t\t\t\t\taria-expanded={ isSettingsExpanded }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ isSettingsExpanded && (\n\t\t\t\t\t\t<div className=\"editor-popup-trigger-popover__row block-editor-popup-trigger-popover__row editor-popup-trigger-popover__settings block-editor-popup-trigger-popover__settings\">\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __(\n\t\t\t\t\t\t\t\t\t'Do not prevent default click behavior',\n\t\t\t\t\t\t\t\t\t'popup-maker'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tchecked={ !! doDefault }\n\t\t\t\t\t\t\t\tonChange={ ( newValue ) =>\n\t\t\t\t\t\t\t\t\tonChangeTrigger( {\n\t\t\t\t\t\t\t\t\t\tdoDefault: newValue,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default InlinePopupTriggerUI;\n","// extracted by mini-css-extract-plugin\nexport {};","import './editor.scss';\n\nexport { default as PopupTriggerEditor } from './popup-trigger-editor';\nexport { default as PopupTriggerViewer } from './popup-trigger-viewer';\n","import clsx from 'clsx';\n\nimport { __ } from '@popup-maker/i18n';\nimport { Button } from '@wordpress/components';\nimport { PopupSelectControl } from '@popup-maker/components';\n\ntype Props = Pick< HTMLFormElement, 'onKeyDown' | 'onKeyPress' > & {\n\tclassName?: string;\n\tonChangeInputValue: ( value: string ) => void;\n\tvalue: string | number;\n};\n\nconst PopupTriggerEditor = ( {\n\tclassName,\n\tonChangeInputValue,\n\tvalue,\n\t...props\n}: Props ) => {\n\treturn (\n\t\t<form\n\t\t\tclassName={ clsx(\n\t\t\t\t'block-editor-popup-trigger-popover__popup-editor',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\trole=\"dialog\"\n\t\t\taria-label={ __( 'Popup Trigger Editor', 'popup-maker' ) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"block-editor-popup-select-input\"\n\t\t\t\trole=\"group\"\n\t\t\t\taria-label={ __( 'Popup Selection Controls', 'popup-maker' ) }\n\t\t\t>\n\t\t\t\t<PopupSelectControl\n\t\t\t\t\temptyValueLabel={ __(\n\t\t\t\t\t\t'Which popup should open?',\n\t\t\t\t\t\t'popup-maker'\n\t\t\t\t\t) }\n\t\t\t\t\thideLabelFromVision={ true }\n\t\t\t\t\tvalue={ String( value ) }\n\t\t\t\t\tonChange={ onChangeInputValue }\n\t\t\t\t\trequired={ true }\n\t\t\t\t\t// postType=\"popup\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\ticon=\"editor-break\"\n\t\t\t\t\tlabel={ __( 'Apply', 'popup-maker' ) }\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default PopupTriggerEditor;\n","import clsx from 'clsx';\n\nimport { Button } from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\n\nimport { __, sprintf } from '@popup-maker/i18n';\n\nconst { popups = [] } = window.popupMakerBlockEditor;\n\nconst getPopupById = ( popupId: number | string = 0 ) => {\n\tpopupId = parseInt( String( popupId ) ) || 0;\n\n\tconst popup = popups.filter( ( { id } ) => popupId === id );\n\n\treturn popup.length === 1 ? popup[ 0 ] : false;\n};\n\nfunction PopupView( {\n\tpopupId,\n\tclassName,\n}: {\n\tpopupId: number;\n\tclassName: string;\n} ) {\n\tconst spanClassName = clsx(\n\t\tclassName,\n\t\t'block-editor-popup-trigger-popover__popup-viewer-text'\n\t);\n\n\tconst popup = getPopupById( popupId );\n\tconst label = popup\n\t\t? /* translators: %s = popup title */\n\t\t  sprintf(\n\t\t\t\t__( 'Open \"%s\" popup', 'popup-maker' ),\n\t\t\t\tdecodeEntities( popup.title.rendered )\n\t\t  )\n\t\t: '';\n\n\treturn (\n\t\t<span className={ spanClassName } role=\"button\" aria-label={ label }>\n\t\t\t{ label }\n\t\t</span>\n\t);\n}\n\ntype PopupTriggerViewerProps = {\n\tclassName?: string;\n\tspanClassName?: string;\n\tonEditTriggerClick?: (\n\t\tevent: React.MouseEvent | React.KeyboardEvent\n\t) => void;\n\tpopupId: number;\n\tonKeyPress?: ( event: React.KeyboardEvent ) => void;\n};\n\nexport default function PopupTriggerViewer( {\n\tclassName = '',\n\tspanClassName = '',\n\tonEditTriggerClick,\n\tpopupId,\n\t...props\n}: PopupTriggerViewerProps ) {\n\treturn (\n\t\t<div\n\t\t\tclassName={ clsx(\n\t\t\t\t'block-editor-popup-trigger-popover__popup-viewer',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\trole=\"region\"\n\t\t\taria-label={ __( 'Popup Trigger Preview', 'popup-maker' ) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<PopupView popupId={ popupId } className={ spanClassName } />\n\t\t\t{ onEditTriggerClick && (\n\t\t\t\t<Button\n\t\t\t\t\ticon=\"edit\"\n\t\t\t\t\tlabel={ __( 'Edit', 'popup-maker' ) }\n\t\t\t\t\tonClick={ onEditTriggerClick }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","import { name } from './index';\n\nimport {\n\tapplyFormat,\n\tinsert,\n\tslice,\n\tgetTextContent,\n} from '@wordpress/rich-text';\n\nimport type { RichTextValue } from '@wordpress/rich-text';\nimport type { RichTextFormat } from '@wordpress/rich-text/build-types/types';\nimport type {\n\tTriggerFormat,\n\tTriggerFormatAttributes,\n\tTriggerFormatOptions,\n} from './types';\n\n/**\n * Creates a new RichTextValue with the trigger format applied to the given text.\n *\n * @param {RichTextValue}  value\n * @param {string}         text\n * @param {RichTextFormat} format\n * @param {number}         start\n *\n * @return {RichTextValue} Formatted value\n */\nexport function insertFormattedText(\n\tvalue: RichTextValue,\n\ttext: string,\n\tformat: RichTextFormat,\n\tstart: number\n): RichTextValue {\n\t// First insert the new text at the cursor position\n\tconst inserted = insert( value, text, start );\n\n\t// Then apply the format to the newly inserted text\n\treturn applyFormat( inserted, format, start, start + text.length );\n}\n\n/**\n * Applies a format to existing text without changing the text content.\n *\n * @param {RichTextValue}  value\n * @param {RichTextFormat} format\n *\n * @return {RichTextValue} Formatted value\n */\nexport function addFormatToText(\n\tvalue: RichTextValue,\n\tformat: RichTextFormat\n): RichTextValue {\n\t// If no range is provided, format will be applied to the entire value\n\treturn applyFormat( value, format );\n}\n\n/**\n * Updates attributes of text that already has a format applied.\n *\n * @param {RichTextValue}  value\n * @param {RichTextFormat} format\n *\n * @return {RichTextValue} Formatted value\n */\nexport function updateFormattedText(\n\tvalue: RichTextValue,\n\tformat: RichTextFormat\n): RichTextValue {\n\t// Get the boundaries of the active format\n\tconst boundary = getFormatBoundary( value, {\n\t\ttype: format.type,\n\t} );\n\n\t// If no boundary found, apply to entire selection\n\tif ( ! boundary.start && ! boundary.end ) {\n\t\treturn applyFormat( value, format );\n\t}\n\n\t// Apply the format to the entire format boundary range\n\treturn applyFormat(\n\t\tvalue,\n\t\tformat,\n\t\tboundary.start ?? undefined,\n\t\tboundary.end ?? undefined\n\t);\n}\n\n/**\n * Get the text content from the current selection.\n *\n * @param {RichTextValue} value\n *\n * @return {string} Selected text\n */\nexport function getSelectedText( value: RichTextValue ): string {\n\treturn getTextContent( slice( value ) );\n}\n\n/**\n * Generates the format object that will be applied to the trigger text.\n *\n * @param {TriggerFormatOptions} options The options.\n *\n * @return {TriggerFormat} The final format object.\n */\nexport const createTriggerFormat = ( {\n\tpopupId = 0,\n\tdoDefault = false,\n}: TriggerFormatOptions ): TriggerFormat => ( {\n\ttype: name,\n\tattributes: {\n\t\tclass: `popmake-${ popupId } ${ doDefault ? 'pum-do-default' : '' }`,\n\t\tpopupId: popupId.toString(),\n\t\tdoDefault: doDefault ? '1' : '0',\n\t},\n} );\n\nexport const triggerOptionsFromFormatAttrs = (\n\tattributes: TriggerFormatAttributes\n) => ( {\n\tpopupId: parseInt( attributes.popupId ?? '0' ),\n\tdoDefault: attributes.doDefault === '1',\n} );\n\n/**\n * Get the start and end boundaries of a given format from a rich text value.\n *\n * @param {RichTextValue} value      the rich text value to interrogate.\n * @param {string}        format     the identifier for the target format (e.g. `core/link`, `core/bold`).\n * @param {number?}       startIndex optional startIndex to seek from.\n * @param {number?}       endIndex   optional endIndex to seek from.\n * @return {Object}\tobject containing start and end values for the given format.\n */\nexport function getFormatBoundary(\n\tvalue: RichTextValue,\n\tformat: RichTextFormat,\n\tstartIndex: number = value.start,\n\tendIndex: number = value.end\n): {\n\tstart: number | null;\n\tend: number | null;\n} {\n\tconst EMPTY_BOUNDARIES = {\n\t\tstart: null,\n\t\tend: null,\n\t};\n\n\tconst { formats } = value;\n\tlet targetFormat: { type: string };\n\tlet initialIndex: number;\n\n\tif ( ! formats?.length ) {\n\t\treturn EMPTY_BOUNDARIES;\n\t}\n\n\t// Clone formats to avoid modifying source formats.\n\tconst newFormats = formats.slice();\n\n\tconst formatAtStart = newFormats[ startIndex ]?.find(\n\t\t( { type } ) => type === format.type\n\t);\n\n\tconst formatAtEnd = newFormats[ endIndex ]?.find(\n\t\t( { type } ) => type === format.type\n\t);\n\n\tconst formatAtEndMinusOne = newFormats[ endIndex - 1 ]?.find(\n\t\t( { type } ) => type === format.type\n\t);\n\n\tif ( formatAtStart ) {\n\t\t// Set values to conform to \"start\"\n\t\ttargetFormat = formatAtStart;\n\t\tinitialIndex = startIndex;\n\t} else if ( formatAtEnd ) {\n\t\t// Set values to conform to \"end\"\n\t\ttargetFormat = formatAtEnd;\n\t\tinitialIndex = endIndex;\n\t} else if ( formatAtEndMinusOne ) {\n\t\t// This is an edge case which will occur if you create a format, then place\n\t\t// the caret just before the format and hit the back ARROW key. The resulting\n\t\t// value object will have start and end +1 beyond the edge of the format boundary.\n\t\ttargetFormat = formatAtEndMinusOne;\n\t\tinitialIndex = endIndex - 1;\n\t} else {\n\t\treturn EMPTY_BOUNDARIES;\n\t}\n\n\tconst index = newFormats[ initialIndex ].indexOf( targetFormat );\n\n\tconst walkingArgs = [ newFormats, initialIndex, targetFormat, index ];\n\n\t// Walk the startIndex \"backwards\" to the leading \"edge\" of the matching format.\n\tstartIndex = walkToStart( ...walkingArgs );\n\n\t// Walk the endIndex \"forwards\" until the trailing \"edge\" of the matching format.\n\tendIndex = walkToEnd( ...walkingArgs );\n\n\t// Safe guard: start index cannot be less than 0.\n\tstartIndex = startIndex < 0 ? 0 : startIndex;\n\n\t// // Return the indicies of the \"edges\" as the boundaries.\n\treturn {\n\t\tstart: startIndex,\n\t\tend: endIndex,\n\t};\n}\n\n/**\n * Walks forwards/backwards towards the boundary of a given format within an\n * array of format objects. Returns the index of the boundary.\n *\n * @param {Array}  formats         the formats to search for the given format type.\n * @param {number} initialIndex    the starting index from which to walk.\n * @param {Object} targetFormatRef a reference to the format type object being sought.\n * @param {number} formatIndex     the index at which we expect the target format object to be.\n * @param {string} direction       either 'forwards' or 'backwards' to indicate the direction.\n * @return {number} the index of the boundary of the given format.\n */\nfunction walkToBoundary(\n\tformats: Array< any >,\n\tinitialIndex: number,\n\ttargetFormatRef: object,\n\tformatIndex: number,\n\tdirection: string\n): number {\n\tlet index = initialIndex;\n\n\tconst directions = {\n\t\tforwards: 1,\n\t\tbackwards: -1,\n\t};\n\n\tconst directionIncrement = directions[ direction ] || 1; // invalid direction arg default to forwards\n\tconst inverseDirectionIncrement = directionIncrement * -1;\n\n\twhile (\n\t\tformats[ index ] &&\n\t\tformats[ index ][ formatIndex ] === targetFormatRef\n\t) {\n\t\t// Increment/decrement in the direction of operation.\n\t\tindex = index + directionIncrement;\n\t}\n\n\t// Restore by one in inverse direction of operation\n\t// to avoid out of bounds.\n\tindex = index + inverseDirectionIncrement;\n\n\treturn index;\n}\n\nconst partialRight =\n\t( fn, ...partialArgs ) =>\n\t( ...args ) =>\n\t\tfn( ...args, ...partialArgs );\n\nconst walkToStart = partialRight( walkToBoundary, 'backwards' );\n\nconst walkToEnd = partialRight( walkToBoundary, 'forwards' );\n","module.exports = window[\"popupMaker\"][\"components\"];","module.exports = window[\"popupMaker\"][\"coreData\"];","module.exports = window[\"popupMaker\"][\"i18n\"];","module.exports = window[\"popupMaker\"][\"icons\"];","module.exports = window[\"wp\"][\"a11y\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"htmlEntities\"];","module.exports = window[\"wp\"][\"keycodes\"];","module.exports = window[\"wp\"][\"richText\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './block-extensions';\nimport './formats';\n\nimport {\n\tcallToActionStore,\n\tpopupStore,\n\tlicenseStore,\n\tsettingsStore,\n\turlSearchStore,\n} from '@popup-maker/core-data';\n\nimport { register } from '@wordpress/data';\n\nimport type { Popup } from '@popup-maker/core-data';\n\ndeclare global {\n\tinterface Window {\n\t\tpopupMaker: {\n\t\t\tglobalVars: {\n\t\t\t\tassetUrl: string;\n\t\t\t\tadminUrl: string;\n\t\t\t\tpluginUrl: string;\n\t\t\t};\n\t\t};\n\n\t\tpopupMakerBlockEditor: {\n\t\t\tpopups: Popup[];\n\t\t\tpopupTriggerExcludedBlocks?: string[];\n\t\t\tpermissions: {\n\t\t\t\tmanage_settings: boolean;\n\t\t\t\tedit_restrictions: boolean;\n\t\t\t\tview_block_controls: boolean;\n\t\t\t\tedit_block_controls: boolean;\n\t\t\t\t[ key: string ]: boolean;\n\t\t\t};\n\t\t};\n\t}\n}\n\n/* Broken @wordpress/data type overrides */\ndeclare module '@wordpress/data' {\n\t// eslint-disable-next-line @typescript-eslint/no-shadow\n\tfunction createRegistry(\n\t\tstoreConfigs?: Object,\n\t\tparent?: Object | null\n\t): {\n\t\tregisterGenericStore: Function;\n\t\tregisterStore: Function;\n\t\tsubscribe: Function;\n\t\tselect: Function;\n\t\tdispatch: Function;\n\t\tregister: Function;\n\t};\n}\n\n// Register our cstom data stores with WordPress core editor data.\nregister( callToActionStore );\nregister( licenseStore );\nregister( settingsStore );\nregister( popupStore );\nregister( urlSearchStore );\n"],"names":["clsx","__","addFilter","InspectorControls","Icon","Panel","PanelBody","PanelRow","Tooltip","createHigherOrderComponent","PopupSelectControl","Mark","MarkIcon","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","popupTriggerExcludedBlocks","window","popupMakerBlockEditor","allowedBlocks","excludedBlocks","isAllowedForBlockType","name","length","includes","addAttributes","settings","attributes","Object","assign","openPopupId","type","default","withAdvancedControls","BlockEdit","props","setAttributes","isSelected","children","className","title","icon","initialOpen","label","placement","text","href","target","rel","size","style","verticalAlign","value","onChange","popupId","help","applyTriggerClass","extraProps","blockType","registerFormatType","trigger","forEach","speak","withSpokenMessages","removeFormat","isCollapsed","useState","useLayoutEffect","useEffect","RichTextShortcut","RichTextToolbarButton","MarkWhite","InlinePopupTriggerUI","TriggerEdit","isActive","activeAttributes","onFocus","contentRef","addingTrigger","setAddingTrigger","openedBy","setOpenedBy","editableContentElement","current","handleClick","event","closest","el","action","addEventListener","removeEventListener","addTrigger","stopAddingTrigger","focus","onFocusOutside","onRemoveFormat","shouldAutoFocus","tagName","hasSelection","character","onUse","iconSize","onClick","shortcutType","shortcutCharacter","focusOnMount","object","doDefault","interactive","edit","useDispatch","useSelect","useMemo","useCallback","useRef","store","blockEditorStore","Button","Popover","ToggleControl","BACKSPACE","DOWN","ENTER","LEFT","RIGHT","UP","useAnchor","applyFormat","PopupTriggerEditor","PopupTriggerViewer","createTriggerFormat","insertFormattedText","triggerOptionsFromFormatAttrs","stopKeyPropagation","stopPropagation","onKeyDown","indexOf","parseInt","key","selectionChange","selectionStart","select","getSelectionStart","triggerValue","isEditingTrigger","setIsEditingTrigger","popoverAnchor","removeTrigger","newValue","isSettingsExpanded","setIsSettingsExpanded","toggleSettingsVisibility","prevState","onChangeTrigger","changes","hasTrigger","isNewTrigger","nextValue","triggerFormat","defaultText","start","clientId","identifier","attributeKey","isEditing","previousFocus","editableContent","ownerDocument","activeElement","body","closeOnEscape","document","anchor","animate","onClose","position","offset","shift","constrainTabbing","onChangeInputValue","Number","onKeyPress","onSubmit","onEditTriggerClick","preventDefault","checked","__nextHasNoMarginBottom","role","emptyValueLabel","hideLabelFromVision","String","required","decodeEntities","sprintf","popups","getPopupById","popup","filter","id","PopupView","spanClassName","rendered","insert","slice","getTextContent","format","inserted","addFormatToText","updateFormattedText","_boundary$start","_boundary$end","boundary","getFormatBoundary","end","undefined","getSelectedText","class","toString","_attributes$popupId","startIndex","endIndex","EMPTY_BOUNDARIES","formats","targetFormat","initialIndex","newFormats","formatAtStart","find","formatAtEnd","formatAtEndMinusOne","index","walkingArgs","walkToStart","walkToEnd","walkToBoundary","targetFormatRef","formatIndex","direction","directions","forwards","backwards","directionIncrement","inverseDirectionIncrement","partialRight","fn","partialArgs","args","callToActionStore","popupStore","licenseStore","settingsStore","urlSearchStore","register"],"sourceRoot":""}